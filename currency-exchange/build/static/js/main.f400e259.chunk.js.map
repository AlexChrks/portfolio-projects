{"version":3,"sources":["components/ErrorNotification/ErrorNotification.module.scss","components/ForecastWidget/ForecastWidget.module.scss","components/App/App.module.scss","api/apiQuery.js","store/actions/actions.js","components/SearchBar/SearchBar.js","images/crying-cat.png","components/ErrorNotification/ErrorNotification.js","utils/utils.js","store/reducers/reducers.js","components/Chart/CustomTooltip.js","components/Chart/Chart.js","components/ForecastWidget/ForecastWidget.js","components/App/App.js","index.js","components/Chart/Chart.module.scss","components/SearchBar/SearchBar.module.scss"],"names":["module","exports","key","instance","axios","create","baseURL","city","a","urlToGetCoords","get","data","coord","lon","lat","urlToGetForecast","PASS_DATA_TO_STORAGE","SET_CITY_ERROR","sendApiQuery","dispatch","apiQuery","then","response","daily","type","payload","catch","SearchBar","useDispatch","inputEl","useRef","className","styles","searchBar","onSubmit","e","preventDefault","value","current","ref","searchInput","placeholder","searchButton","ErrorNotification","errorWrapper","errorImg","src","cat","alt","getDayofWeek","date","Date","getDay","initialState","CustomTooltip","active","label","length","customTooltip","Chart","store","useSelector","state","weekForecast","selectWeekForecast","barChartWrapper","BarChart","width","height","margin","top","right","left","bottom","XAxis","dataKey","YAxis","Tooltip","content","Bar","fill","ForecastWidget","cityError","wrapper","logo","App","globalWrapper","createStore","action","transformedArr","map","day","dt","temperature","temp","max","toFixed","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+GACAA,EAAOC,QAAU,CAAC,aAAe,wCAAwC,MAAQ,iCAAiC,SAAW,sC,oBCA7HD,EAAOC,QAAU,CAAC,QAAU,gCAAgC,KAAO,+B,oBCAnED,EAAOC,QAAU,CAAC,cAAgB,6B,iICC5BC,EAAG,mCAEHC,E,OAAWC,EAAMC,OAAO,CAC5BC,QAAS,6C,4CAGJ,WAAwBC,GAAxB,uBAAAC,EAAA,6DACCC,EADD,qBACgCF,EADhC,kBAC8CL,GAD9C,SAEqBC,EAASO,IAAID,GAFlC,uBAEmDE,KAAKC,MAAtDC,EAFF,EAEEA,IAAKC,EAFP,EAEOA,IACNC,EAHD,uBAGoCD,EAHpC,gBAG+CD,EAH/C,+BAGyEX,GAHzE,SAKQC,EAASO,IAAIK,GALrB,qF,sBCNA,IAAMC,EAAuB,uBACvBC,EAAiB,iBAevB,SAASC,EAAaX,GAC3B,OAAO,SAACY,IDXH,SAAP,mCCYIC,CAASb,GACRc,MAAK,SAACC,GAhBJ,IAA2BX,EAiB5BQ,GAjB4BR,EAiBDW,EAASX,KAAKY,MAhBtC,CACLC,KAAMR,EACNS,QAASd,QAgBRe,OAAM,WACLP,EAZG,CACLK,KAAMP,Q,6BCYKU,MAnBf,WACE,IAAMR,EAAWS,cAEXC,EAAUC,iBAAO,MAQvB,OACE,uBAAMC,UAAYC,IAAOC,UAAYC,SAPlB,SAACC,GACpBA,EAAEC,iBACF,IAAQC,EAAUR,EAAQS,QAAlBD,MACRlB,EAASD,EAAamB,KAItB,UACE,uBAAOE,IAAKV,EAASE,UAAYC,IAAOQ,YAAcC,YAAY,wBAClE,wBAAQV,UAAYC,IAAOU,mBCrBlB,MAA0B,uC,kBCa1BC,MATf,WACE,OACE,sBAAKZ,UAAWC,IAAOY,aAAvB,UACE,qBAAKb,UAAWC,IAAOa,SAAUC,IAAKC,EAAKC,IAAI,eAC/C,iDAAmB,uBAAnB,oBCROC,EAAe,SAACC,GAG3B,MADa,CAAC,SAAU,SAAU,UAAW,UAAW,WAAY,SAAU,YADtD,IAAIC,KAAY,IAAPD,GAELE,WCAxBC,EAAe,GA4Bd,I,6DCfQC,EAZO,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,OAAQ9B,EAAqB,EAArBA,QAAS+B,EAAY,EAAZA,MACxC,OAAID,IAAM,OAAI9B,QAAJ,IAAIA,OAAJ,EAAIA,EAASgC,QAEnB,qBAAK1B,UAAWC,IAAO0B,cAAvB,SACE,mBAAG3B,UAAU,QAAb,mBAAyByB,EAAzB,cAAoC/B,EAAQ,GAAGY,MAA/C,aAKC,MC8BMsB,MA1Bf,WAEE,IAAMC,EAAQC,aAAY,SAACC,GAAD,OFYM,SAAAA,GAAK,OAAIA,EAAMC,aEZVC,CAAmBF,MAExD,OACE,qBAAK/B,UAAWC,IAAOiC,gBAAvB,SACE,eAACC,EAAA,EAAD,CACAC,MAAO,IACPC,OAAQ,IACRzD,KAAMiD,EACNS,OAAQ,CACNC,IAAK,EACLC,MAAO,GACPC,KAAM,EACNC,OAAQ,GARV,UAWA,cAACC,EAAA,EAAD,CAAOC,QAAQ,QACf,cAACC,EAAA,EAAD,IACA,cAACC,EAAA,EAAD,CAASC,QAAS,cAAC,EAAD,MAClB,cAACC,EAAA,EAAD,CAAKJ,QAAQ,cAAcK,KAAK,kB,kBCXvBC,MAhBf,WAEE,IAAMrB,EAAQC,aAAY,SAACC,GAAD,OAAWA,KAE7BC,EAA4BH,EAA5BG,aAAcmB,EAActB,EAAdsB,UAEtB,OACE,sBAAKnD,UAAWC,IAAOmD,QAAvB,UACE,cAAC,EAAD,IACA,oBAAIpD,UAAWC,IAAOoD,KAAtB,0BACErB,GAAgB,cAAC,EAAD,IAChBmB,GAAa,cAAC,EAAD,Q,kBCRNG,MARf,WACE,OACE,qBAAKtD,UAAWC,IAAOsD,cAAvB,SACE,cAAC,EAAD,O,SCEA1B,EAAQ2B,aLLP,WAAgD,IAA/BzB,EAA8B,uDAAtBT,EAAcmC,EAAQ,uCACpD,OAAQA,EAAOhE,MACb,KAAKR,EAEH,IAAMyE,EAAiBD,EAAO/D,QAAQiE,KAAI,SAACpD,GACzC,MAAO,CACLqD,IAAK1C,EAAaX,EAAQsD,IAC1BC,YAAavD,EAAQwD,KAAKC,IAAIC,QAAQ,OAI1C,MAAO,CACLjC,aAAc0B,EACdP,WAAW,GAGf,KAAKjE,EACH,MAAO,CACLiE,WAAW,GAGf,QACE,OAAOpB,KKjBsBmC,YAAgBC,MAEnDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUzC,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJ0C,SAASC,eAAe,U,mBCjB1BvG,EAAOC,QAAU,CAAC,gBAAkB,+BAA+B,SAAW,wBAAwB,cAAgB,+B,mBCAtHD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,YAAc,+BAA+B,aAAe,mC","file":"static/js/main.f400e259.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWrapper\":\"ErrorNotification_errorWrapper__2F14K\",\"error\":\"ErrorNotification_error__1bibh\",\"errorImg\":\"ErrorNotification_errorImg__z3qg9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ForecastWidget_wrapper__1XWno\",\"logo\":\"ForecastWidget_logo__tSlB1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"globalWrapper\":\"App_globalWrapper__3judp\"};","import axios from 'axios';\r\n\r\nconst key = `72a8e0566e40b16f5aa65595512e9983`;\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://api.openweathermap.org/data/2.5/\"\r\n});\r\n\r\nexport async function apiQuery(city) {\r\n  const urlToGetCoords = `/weather?q=${city}&appid=${key}`;\r\n  const {lon, lat} = (await instance.get(urlToGetCoords)).data.coord;\r\n  const urlToGetForecast = `/onecall?lat=${lat}&lon=${lon}&units=metric&appid=${key}`;\r\n\r\n  return await instance.get(urlToGetForecast);\r\n}\r\n","import { apiQuery } from '../../api/apiQuery'\r\n\r\nexport const PASS_DATA_TO_STORAGE = 'PASS_DATA_TO_STORAGE';\r\nexport const SET_CITY_ERROR = 'SET_CITY_ERROR';\r\n\r\nexport function passDataToStorage(data) {\r\n  return {\r\n    type: PASS_DATA_TO_STORAGE,\r\n    payload: data\r\n  }\r\n}\r\n\r\nexport function setCityError() {\r\n  return {\r\n    type: SET_CITY_ERROR,\r\n  }\r\n}\r\n\r\nexport function sendApiQuery(city) {\r\n  return (dispatch) => {\r\n    apiQuery(city)\r\n    .then((response) => {\r\n      dispatch(passDataToStorage(response.data.daily));\r\n    })\r\n    .catch(() => {\r\n      dispatch(setCityError());\r\n    });\r\n  };\r\n}\r\n","import React, { useRef } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { sendApiQuery } from '../../store/actions/actions';\r\n\r\nimport styles from './SearchBar.module.scss';\r\n\r\nfunction SearchBar() {\r\n  const dispatch = useDispatch();\r\n\r\n  const inputEl = useRef(null);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { value } = inputEl.current;\r\n    dispatch(sendApiQuery(value))\r\n  }\r\n\r\n  return (\r\n    <form className={ styles.searchBar } onSubmit={ handleSubmit }>\r\n      <input ref={inputEl} className={ styles.searchInput } placeholder='Type your city here'/>\r\n      <button className={ styles.searchButton } />\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","export default __webpack_public_path__ + \"static/media/crying-cat.7d16c764.png\";","import React from 'react';\r\nimport cat from '../../images/crying-cat.png';\r\nimport styles from './ErrorNotification.module.scss';\r\n\r\nfunction ErrorNotification() {\r\n  return (\r\n    <div className={styles.errorWrapper}>\r\n      <img className={styles.errorImg} src={cat} alt='crying cat'/>\r\n      <div>Incorrect city<br/>Try again.</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ErrorNotification;\r\n","export const getDayofWeek = (date) => {\r\n  const transformedDate = new Date(date * 1000);\r\n  const days = ['Sunday', 'Monday', 'Tuesday', 'Wensday', 'Thursday', 'Friday', 'Saturday'];\r\n  return days[transformedDate.getDay()];\r\n}\r\n","import {PASS_DATA_TO_STORAGE, SET_CITY_ERROR} from '../actions/actions';\r\nimport { getDayofWeek } from '../../utils/utils'\r\n\r\nconst initialState = {};\r\n\r\nexport function reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case PASS_DATA_TO_STORAGE:\r\n\r\n      const transformedArr = action.payload.map((current) => {\r\n        return {\r\n          day: getDayofWeek(current.dt),\r\n          temperature: current.temp.max.toFixed(0)\r\n        }\r\n      });\r\n\r\n      return {\r\n        weekForecast: transformedArr,\r\n        cityError: false\r\n      };   \r\n\r\n    case SET_CITY_ERROR:\r\n      return {\r\n        cityError: true\r\n      };     \r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const selectWeekForecast = state => state.weekForecast;\r\n","import React from 'react';\r\n\r\nimport styles from './Chart.module.scss';\r\n\r\nconst CustomTooltip = ({ active, payload, label }) => {\r\n  if (active && payload?.length) {\r\n    return (\r\n      <div className={styles.customTooltip}>\r\n        <p className=\"label\">{`${label} : ${payload[0].value}Â°C`}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nexport default CustomTooltip;\r\n","import React from \"react\";\r\n\r\nimport { useSelector } from 'react-redux';\r\nimport { selectWeekForecast } from '../../store/reducers/reducers';\r\n\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n} from \"recharts\";\r\n\r\nimport CustomTooltip from './CustomTooltip';\r\n\r\nimport styles from './Chart.module.scss';\r\n\r\nfunction Chart() {\r\n\r\n  const store = useSelector((state) => selectWeekForecast(state));\r\n\r\n  return (\r\n    <div className={styles.barChartWrapper}>\r\n      <BarChart\r\n      width={500}\r\n      height={300}\r\n      data={store}\r\n      margin={{\r\n        top: 5,\r\n        right: 30,\r\n        left: 0,\r\n        bottom: 5\r\n      }}\r\n    >\r\n      <XAxis dataKey=\"day\" />\r\n      <YAxis />\r\n      <Tooltip content={<CustomTooltip />} />\r\n      <Bar dataKey=\"temperature\" fill=\"#C5E5DE\" />\r\n    </BarChart>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chart;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport SearchBar from '../SearchBar/SearchBar';\r\nimport ErrorNotification from '../ErrorNotification/ErrorNotification';\r\nimport Chart from '../Chart/Chart';\r\n\r\nimport styles from './ForecastWidget.module.scss';\r\n\r\n\r\nfunction ForecastWidget() {\r\n\r\n  const store = useSelector((state) => state);\r\n\r\n  const { weekForecast, cityError } = store;\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <SearchBar />\r\n      <h3 className={styles.logo}>Forecast App</h3>\r\n      { weekForecast && <Chart /> }\r\n      { cityError && <ErrorNotification /> }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForecastWidget;\r\n","import React from 'react';\r\nimport ForecastWidget from '../ForecastWidget/ForecastWidget';\r\n\r\nimport styles from './App.module.scss';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className={styles.globalWrapper}>\r\n      <ForecastWidget/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport App from './components/App/App';\r\n\r\nimport { reducer } from './store/reducers/reducers';\r\nimport thunk from 'redux-thunk';\r\n\r\nconst store = createStore(reducer, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"barChartWrapper\":\"Chart_barChartWrapper__2Wg3F\",\"barChart\":\"Chart_barChart__1iopp\",\"customTooltip\":\"Chart_customTooltip__1XZQp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"SearchBar_searchBar__3DBEV\",\"searchInput\":\"SearchBar_searchInput__3j2sf\",\"searchButton\":\"SearchBar_searchButton__xJHBW\"};"],"sourceRoot":""}